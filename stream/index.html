<html>

<head>
  <link rel="stylesheet" href="style.css">
  <script>document.addEventListener("DOMContentLoaded", () => {
      setInterval(() => {
        const d = new Date();
        const year = d.getFullYear();
        const d0 = new Date(year, 0, 1);
        const millisec = d.getTime() - d0;
        const millisecPerDay = 1000 * 60 * 60 * 24;
        const day = millisec / millisecPerDay;

        const daysPerYear = (year % 4 == 0) && (year % 100 != 0) || (year % 400 == 0) ? 366 : 365;

        document.body.querySelector("#year").innerHTML = `${year}-${Math.floor(day).toString().padStart(3, "0").slice(0, 3)}`;
        document.body.querySelector("#day").innerHTML = `.${(day % 1).toString().replace(/^0\./, "").padEnd(6, "0").slice(0, 6)}JST`;
        document.body.querySelector("#year-back").style.width = `${Math.floor(day) / daysPerYear * 100}%`;
        document.body.querySelector("#day-back").style.width = `${day % 1 * 100}%`;
      }, 1000 / 60);
    }

    );
  </script>
</head>

<body style="display: flex; flex-direction: column;">
  <div id="game" class="center">GAME</div>
  <div id="side">
    <div id="chat" style="grid-column: 1; grid-row: 1 / 3;"></div>
    <div style="grid-column: 1; grid-row: 3; display: flex; flex-direction: row;">
      <div class="center" style="flex: 1; position: relative;">
        <div id="year-back" class="opaque"
          style="position: absolute; left: 0; height: 100%; background-color: currentColor;"></div>
        <span id="year"></span>
      </div>
      <div class="center" style="flex: 1; position: relative; border-left: 1px dotted;">
        <div id="day-back" class="opaque"
          style="position: absolute; left: 0; height: 100%; background-color: currentColor;"></div>
        <span id="day"></span>
      </div>
    </div>
    <div id="info" style="grid-column: 2; grid-row: 1; padding: 4px;">
      <table>
        <tr>
          <th class="opaque" style="vertical-align: top;">GAME</th>
          <td>The Exit 8</td>
        </tr>
        <tr>
          <th class="opaque">INDEX</th>
          <td>0</td>
        </tr>
      </table>
    </div>
    <div id="sound" class="center" style="grid-column: 3; grid-row: 1;"><span class="opaque">SOUND</span></div>
    <div id="me" style="grid-column: 4; grid-row: 1 / 4;">
      &nbsp;SUMI.SPACE
    </div>
    <div class="caption" style="grid-column: 2 / 4; grid-row: 2;
      padding-left: .5em;
      display: flex;
      align-items: center;
      ">
      <span class="opaque">EN (DeepL)</span>
    </div>
    <div class="caption" style="grid-column: 2 / 4; grid-row: 3;
      padding-left: .5em;
      display: flex;
      align-items: center;
      ">
      <span class="opaque">JA</span>
    </div>
    <!--<div class="heart" style="grid-column: 4; grid-row: 3; padding-left: .5em; "><span class="opaque">heart
        rate</span>
    </div>-->
  </div>
</body>

</html>